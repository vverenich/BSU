.MODEL SMALL
.STACK 100H
.DATA
PROGRAM_NAME DB 256 DUP(?)
.CODE
PRINT_NUMBER PROC
	MOV CX,0
	
PRINT_SYMBOL:
	MOV DX,0
	MOV BX,10000
	DIV BX
	CMP AX,0
	JNE CONTINUE_PRINTING
	CMP CX,0
	JE SKIP_PRINTING
	
CONTINUE_PRINTING:
	ADD AL,30H
	INT 29H
	MOV CX,1
	
SKIP_PRINTING:
	MOV AX,DX
	MOV BX,10
	MUL BX
	CMP AX,0
	JNE PRINT_SYMBOL
	
	CMP CX,0
	JNE SKIP_ZERO
	ADD AL,30H
	INT 29H
	
SKIP_ZERO:
	RET
PRINT_NUMBER ENDP

START:
	MOV AX,@DATA
	MOV DS,AX
	MOV AX,ES:[2CH]
	MOV ES,AX
	MOV SI,-1
	
SEARCH_01:
	ADD SI,1
	MOV AL,ES:[SI]
	CMP AL,0
	JNE SEARCH_01
	MOV AL,ES:[SI+1]
	CMP AL,1
	JNE SEARCH_01
	
	ADD SI,2
	MOV BX,OFFSET PROGRAM_NAME
	
COPY_NAME:
	ADD SI,1
	MOV AL,ES:[SI]
	MOV [BX],AL
	INC BX
	CMP AL,0
	JNE COPY_NAME
	
	MOV DX,OFFSET PROGRAM_NAME
	MOV AX,3D00H
	INT 21H
	
	MOV BX,AX
	MOV AH,3EH
	INT 21H
	
	MOV AX,BX
	CALL PRINT_NUMBER
	
	MOV AX,4C00H
	INT 21H
END START
